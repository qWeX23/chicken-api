# Langfuse Local Development Environment Variables
# Copy this file to .env and fill in your own values
# SECURITY NOTE: The .env file is git-ignored - do not commit secrets!

# ============================================================================
# REQUIRED: Generate these secrets before running docker-compose
# ============================================================================

# NextAuth secret for session management
# Generate with: openssl rand -base64 32
NEXTAUTH_SECRET=CHANGEME_generate_with_openssl_rand_base64_32

# Encryption key for sensitive data (must be 64 hex characters)
# Generate with: openssl rand -hex 32
ENCRYPTION_KEY=CHANGEME_generate_with_openssl_rand_hex_32

# Salt for API key hashing
SALT=CHANGEME_random_salt_value

# PostgreSQL credentials
POSTGRES_USER=postgres
POSTGRES_PASSWORD=CHANGEME_postgres_password
POSTGRES_DB=postgres

# ClickHouse credentials
CLICKHOUSE_USER=clickhouse
CLICKHOUSE_PASSWORD=CHANGEME_clickhouse_password

# MinIO (S3-compatible storage) credentials
MINIO_ROOT_USER=minio
MINIO_ROOT_PASSWORD=CHANGEME_minio_password

# Redis credentials
REDIS_AUTH=CHANGEME_redis_password

# ============================================================================
# DATABASE CONFIGURATION
# ============================================================================

# PostgreSQL connection (adjust if you change container names or ports)
DATABASE_URL=postgresql://postgres:CHANGEME_postgres_password@postgres:5432/postgres

# ClickHouse connection
CLICKHOUSE_MIGRATION_URL=clickhouse://clickhouse:9000
CLICKHOUSE_URL=http://clickhouse:8123
CLICKHOUSE_CLUSTER_ENABLED=false

# ============================================================================
# LANGFUSE WEB CONFIGURATION
# ============================================================================

# Base URL for Langfuse web interface
NEXTAUTH_URL=http://localhost:3000

# Enable experimental features
LANGFUSE_ENABLE_EXPERIMENTAL_FEATURES=true

# Enable telemetry (set to false if you prefer not to send usage data)
TELEMETRY_ENABLED=true

# ============================================================================
# S3/MINIO STORAGE CONFIGURATION
# ============================================================================

# S3 Event Upload (for telemetry data)
LANGFUSE_S3_EVENT_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_EVENT_UPLOAD_REGION=auto
LANGFUSE_S3_EVENT_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_EVENT_UPLOAD_SECRET_ACCESS_KEY=CHANGEME_minio_password
LANGFUSE_S3_EVENT_UPLOAD_ENDPOINT=http://minio:9000
LANGFUSE_S3_EVENT_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_EVENT_UPLOAD_PREFIX=events/

# S3 Media Upload (for file uploads)
LANGFUSE_S3_MEDIA_UPLOAD_BUCKET=langfuse
LANGFUSE_S3_MEDIA_UPLOAD_REGION=auto
LANGFUSE_S3_MEDIA_UPLOAD_ACCESS_KEY_ID=minio
LANGFUSE_S3_MEDIA_UPLOAD_SECRET_ACCESS_KEY=CHANGEME_minio_password
LANGFUSE_S3_MEDIA_UPLOAD_ENDPOINT=http://localhost:9090
LANGFUSE_S3_MEDIA_UPLOAD_FORCE_PATH_STYLE=true
LANGFUSE_S3_MEDIA_UPLOAD_PREFIX=media/

# S3 Batch Export (for data exports)
LANGFUSE_S3_BATCH_EXPORT_ENABLED=false
LANGFUSE_S3_BATCH_EXPORT_BUCKET=langfuse
LANGFUSE_S3_BATCH_EXPORT_PREFIX=exports/
LANGFUSE_S3_BATCH_EXPORT_REGION=auto
LANGFUSE_S3_BATCH_EXPORT_ENDPOINT=http://minio:9000
LANGFUSE_S3_BATCH_EXPORT_EXTERNAL_ENDPOINT=http://localhost:9090
LANGFUSE_S3_BATCH_EXPORT_ACCESS_KEY_ID=minio
LANGFUSE_S3_BATCH_EXPORT_SECRET_ACCESS_KEY=CHANGEME_minio_password
LANGFUSE_S3_BATCH_EXPORT_FORCE_PATH_STYLE=true

# ============================================================================
# REDIS CONFIGURATION
# ============================================================================

REDIS_HOST=redis
REDIS_PORT=6379
REDIS_TLS_ENABLED=false

# ============================================================================
# OPTIONAL: Initial Project/User Setup
# ============================================================================
# Uncomment and configure these to automatically create an organization,
# project, and user on first startup

# LANGFUSE_INIT_ORG_ID=
# LANGFUSE_INIT_ORG_NAME=
# LANGFUSE_INIT_PROJECT_ID=
# LANGFUSE_INIT_PROJECT_NAME=
# LANGFUSE_INIT_PROJECT_PUBLIC_KEY=
# LANGFUSE_INIT_PROJECT_SECRET_KEY=
# LANGFUSE_INIT_USER_EMAIL=
# LANGFUSE_INIT_USER_NAME=
# LANGFUSE_INIT_USER_PASSWORD=

# ============================================================================
# EMAIL CONFIGURATION (Optional)
# ============================================================================
# EMAIL_FROM_ADDRESS=
# SMTP_CONNECTION_URL=

# ============================================================================
# AZURE BLOB STORAGE (Optional - Alternative to MinIO)
# ============================================================================
# LANGFUSE_USE_AZURE_BLOB=false
